(window.webpackChunkexamples=window.webpackChunkexamples||[]).push([[670],{90736:function(e,r,n){"use strict";n.r(r);n(28880);var t=n(58082),a=(n(12401),n(21437)),s=(n(47462),n(99707)),i=(n(18449),n(4473)),c=n(87757),o=n.n(c),u=n(67294),l=n(83349),d=n(66052),f=n(2832),h=n.n(f),x=n(3283),p=n.n(x),g=n(85893),v=n(25108);function m(e,r,n,t,a,s,i){try{var c=e[s](i),o=c.value}catch(u){return void n(u)}c.done?r(o):Promise.resolve(o).then(t,a)}function b(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var s=e.apply(r,n);function i(e){m(s,t,a,i,c,"next",e)}function c(e){m(s,t,a,i,c,"throw",e)}i(void 0)}))}}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,a,s=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(s.push(t.value),!r||s.length!==r);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return s}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return S(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var w="m/44'/60'/0'/0/0",y=new l.BSCLedgerBridge,j=new(h())({chain:f.Chain.Ropsten,hardfork:f.Hardfork.London}),C=d.FeeMarketEIP1559Transaction.fromTxData({nonce:"0x00",gasLimit:"0x5208",to:"0x0000000000000000000000000000000000000000",value:"0x2386F26FC10000",chainId:"0x03",type:"0x02",maxFeePerGas:"0x09184e72a000",maxPriorityFeePerGas:"0x01"},{common:j}),Z=function(){var e=k((0,u.useState)([]),2),r=e[0],n=e[1],t=k((0,u.useState)(!1),2),c=t[0],l=t[1],d=(0,u.useCallback)(b(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.t0=n,e.next=5,y.getFirstPage(w);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 9:e.prev=9,e.t2=e.catch(1),v.error(e.t2),i.Z.error({message:e.t2.message||e.t2});case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])}))),[]);return(0,u.useEffect)((function(){b(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=v,e.t1=r[0],!e.t1){e.next=6;break}return e.next=5,y.getPublicKey(w);case 5:e.t1=e.sent;case 6:e.t2=e.t1,e.t0.log.call(e.t0,e.t2);case 8:case"end":return e.stop()}}),e)})))()}),[r]),(0,g.jsx)(a.Z,{bordered:!1,loading:c,title:(0,g.jsxs)("div",{children:["Ledger ETH Account Address"," ",(0,g.jsx)(s.Z,{size:"small",onClick:d,children:"Get address"})]}),children:r.map((function(e){return(0,g.jsxs)("p",{children:[e.address," (hdPath: ",e.hdPath,")"]},e.address)}))})},P=function(){var e=k((0,u.useState)(!1),2),r=e[0],n=e[1],c=k((0,u.useState)(JSON.stringify(C)),2),l=c[0],f=c[1],h=k((0,u.useState)(""),2),x=h[0],m=h[1],S=(0,u.useCallback)(function(){var e=b(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(r.target.value);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[]),w=(0,u.useCallback)(b(o().mark((function e(){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),r=d.FeeMarketEIP1559Transaction.fromTxData(JSON.parse(l),{common:j}),e.next=5,y.signTransaction(r,"m/44'/60'/0'/0/0");case 5:t=e.sent,v.log(t.toJSON()),m("0x".concat(t.serialize().toString("hex"))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),v.error(e.t0),i.Z.error({message:e.t0.message||e.t0});case 14:return e.prev=14,n(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])}))),[l]),Z=(0,u.useCallback)(b(o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new(p())("https://ropsten.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"),e.next=3,r.eth.sendSignedTransaction(x);case 3:n=e.sent,v.log(n);case 5:case"end":return e.stop()}}),e)}))),[x]);return(0,g.jsxs)(a.Z,{bordered:!1,loading:r,title:(0,g.jsx)("div",{children:"Ledger ETH SignTransaction (EIP-1559) "}),children:[(0,g.jsx)(t.Z.TextArea,{style:{width:300,height:200,marginBottom:10},value:l,onChange:S}),(0,g.jsx)("div",{children:(0,g.jsxs)(s.Z.Group,{children:[(0,g.jsx)(s.Z,{onClick:w,children:"Sign"}),(0,g.jsx)(s.Z,{onClick:Z,children:"Send"})]})}),(0,g.jsxs)("pre",{children:["SignedTx: ",x]})]})},T=function(){var e=k((0,u.useState)(w),2),r=e[0],n=e[1],c=k((0,u.useState)(""),2),l=c[0],d=c[1],f=k((0,u.useState)(""),2),h=f[0],x=f[1],p=k((0,u.useState)(!1),2),m=p[0],S=p[1],j=(0,u.useCallback)(b(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,y.unlock();case 4:return e.next=6,y.signMessage(l,r);case 6:n=e.sent,x(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),v.error(e.t0),i.Z.error({message:e.t0.message||e.t0});case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])}))),[r,l]);return(0,g.jsxs)(a.Z,{bordered:!1,loading:m,title:(0,g.jsxs)("div",{children:["Ledger ETH SignMessage (EIP-1559)"," ",(0,g.jsx)(s.Z,{size:"small",onClick:j,children:"Sign"})]}),children:["hdPath: ",(0,g.jsx)(t.Z,{value:r,onChange:function(e){return n(e.target.value)}}),"message: ",(0,g.jsx)(t.Z,{value:l,onChange:function(e){return d(e.target.value)}}),(0,g.jsxs)("pre",{children:["Signed message: ",JSON.stringify(h,null,2)]})]})};r.default=function(){return(0,g.jsxs)(a.Z,{bordered:!0,bodyStyle:{background:"lightblue"},children:[(0,g.jsx)(Z,{}),(0,g.jsx)(P,{}),(0,g.jsx)(T,{})]})}},27790:function(){},29120:function(){},46586:function(){},6567:function(){}}]);
//# sourceMappingURL=670.22479070.js.map